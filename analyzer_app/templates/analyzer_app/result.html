<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Analysis Results - Boosty</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
    </style>
</head>

<body class="bg-gray-50 text-gray-900">

    <!-- Navbar -->
    <nav class="flex items-center justify-between px-8 py-4 bg-white border-b border-gray-100">
        <div class="flex items-center space-x-2">
            <div class="w-6 h-6 bg-purple-600 rounded-full"></div>
            <span class="font-semibold text-lg">Boosty</span>
        </div>
        <div class="flex items-center gap-4">
            <!-- Share Dropdown -->
            <div class="relative">
                <button onclick="toggleDropdown('share-dropdown')"
                    class="flex items-center gap-2 px-4 py-2 text-sm font-medium text-gray-700 hover:text-gray-900 bg-gray-100 hover:bg-gray-200 rounded-md transition-colors">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24"
                        stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z" />
                    </svg>
                    Share
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                    </svg>
                </button>
                <div id="share-dropdown"
                    class="hidden absolute right-0 mt-2 w-56 bg-white rounded-lg shadow-lg border border-gray-200 py-2 z-50">
                    <button onclick="window.print()"
                        class="w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 flex items-center gap-3">
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z" />
                        </svg>
                        Print Report
                    </button>
                    <button onclick="shareOnX()"
                        class="w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 flex items-center gap-3">
                        <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24">
                            <path
                                d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z" />
                        </svg>
                        Share on X
                    </button>
                    <button onclick="shareOnLinkedIn()"
                        class="w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 flex items-center gap-3">
                        <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24">
                            <path
                                d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z" />
                        </svg>
                        Share on LinkedIn
                    </button>
                    <button onclick="emailReport()"
                        class="w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 flex items-center gap-3">
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
                        </svg>
                        Get report on Email
                    </button>
                </div>
            </div>

            <!-- My Account Dropdown -->
            <div class="relative">
                <button onclick="toggleDropdown('account-dropdown')"
                    class="flex items-center gap-2 px-4 py-2 text-sm font-medium text-white bg-gradient-to-r from-purple-600 to-pink-600 hover:opacity-90 rounded-md transition-opacity">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24"
                        stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
                    </svg>
                    My Account
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                    </svg>
                </button>
                <div id="account-dropdown"
                    class="hidden absolute right-0 mt-2 w-56 bg-white rounded-lg shadow-lg border border-gray-200 py-2 z-50">
                    <a href="/premium-dashboard/#badges"
                        class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 flex items-center gap-3">
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z" />
                        </svg>
                        Badges
                    </a>
                    <a href="/premium-dashboard/#progress"
                        class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 flex items-center gap-3">
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z" />
                        </svg>
                        Progress
                    </a>
                    <a href="/premium-dashboard/#history"
                        class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 flex items-center gap-3">
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
                        </svg>
                        History
                    </a>
                    <a href="/premium-dashboard/#settings"
                        class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 flex items-center gap-3">
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z" />
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
                        </svg>
                        Settings
                    </a>
                    <div class="border-t border-gray-200 my-2"></div>
                    <button onclick="logout()"
                        class="w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-red-50 flex items-center gap-3">
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1" />
                        </svg>
                        Log out
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <main class="max-w-6xl mx-auto px-4 py-8">
        <a href="/" class="text-sm text-gray-500 hover:text-gray-900 mb-6 inline-block">&larr; Back to Home</a>

        <!-- Overall Score & Author Grid -->
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
            <!-- Overall Score Card -->
            <div class="bg-white rounded-xl p-8 shadow-sm border border-gray-100 text-center">
                <h2 class="text-xl font-bold text-left mb-1">Overall Performance</h2>
                <p class="text-sm text-gray-500 text-left mb-8">Your blog analysis results</p>

                <div class="flex flex-col items-center justify-center">
                    <div class="text-6xl font-bold text-yellow-400 mb-2">{{ data.overall_score }}</div>
                    <div class="text-sm text-gray-500">out of 100</div>
                </div>
            </div>

            <!-- Author & Socials -->
            <div class="bg-white rounded-xl p-6 shadow-sm border border-gray-100">
                <h3 class="font-bold text-lg mb-4">Author & Social Presence</h3>
                <div class="flex flex-col gap-4">
                    <div>
                        <p class="text-sm text-gray-500">Detected Author</p>
                        <p class="font-semibold text-lg">{{ data.author }}</p>
                    </div>
                    <div class="flex flex-wrap gap-3">
                        {% for social in data.social_links %}
                        <a href="{{ social.url }}" target="_blank"
                            class="px-3 py-1 bg-gray-100 rounded-full text-sm text-gray-700 hover:bg-gray-200">
                            {{ social.platform }}
                        </a>
                        {% empty %}
                        <span class="text-sm text-gray-400">No social links detected</span>
                        {% endfor %}
                    </div>
                </div>
            </div>
        </div>

        <!-- AI Summary Section -->
        <div class="bg-white rounded-xl p-6 shadow-sm border border-gray-100 mb-6">
            <div class="flex items-center gap-3 mb-4">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-purple-500" fill="none" viewBox="0 0 24 24"
                    stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z" />
                </svg>
                <h3 class="font-semibold text-lg">AI Summary</h3>
            </div>
            <p class="text-gray-700 leading-relaxed">{{ data.summary }}</p>
        </div>

        <!-- Gamification & Achievements -->
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
            <!-- Achievements Card -->
            <div class="bg-white rounded-xl p-6 shadow-sm border border-gray-100">
                <h3 class="font-bold text-lg mb-4 flex items-center gap-2">
                    <span>üèÜ</span> Achievements & Progress
                </h3>

                <div class="mb-6">
                    <div class="flex justify-between text-sm font-medium mb-1">
                        <span>Level 2 Blogger</span>
                        <span>350 / 500 XP</span>
                    </div>
                    <div class="w-full bg-gray-100 rounded-full h-2.5">
                        <div class="bg-gradient-to-r from-purple-500 to-pink-500 h-2.5 rounded-full" style="width: 70%">
                        </div>
                    </div>
                </div>

                <div class="flex gap-4">
                    <div class="text-center">
                        <div class="w-12 h-12 bg-yellow-100 rounded-full flex items-center justify-center text-2xl mb-1"
                            title="First Analysis">ü•á</div>
                        <span class="text-xs text-gray-500">First Scan</span>
                    </div>
                    <div class="text-center">
                        <div class="w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center text-2xl mb-1"
                            title="SEO Improver">üöÄ</div>
                        <span class="text-xs text-gray-500">SEO Star</span>
                    </div>
                    {% if data.seasonal_data.is_seasonal %}
                    <div class="text-center">
                        <div class="w-12 h-12 bg-red-100 rounded-full flex items-center justify-center text-2xl mb-1"
                            title="Christmas Challenge">üéÑ</div>
                        <span class="text-xs text-gray-500">Xmas Spirit</span>
                    </div>
                    {% endif %}
                </div>
            </div>

            <!-- Leaderboard Card -->
            <div class="bg-white rounded-xl p-6 shadow-sm border border-gray-100">
                <h3 class="font-bold text-lg mb-4 flex items-center gap-2">
                    <span>üìà</span> Top Improved Blogs
                </h3>
                <div class="space-y-3">
                    <div class="flex items-center justify-between p-2 bg-gray-50 rounded-lg">
                        <div class="flex items-center gap-3">
                            <span class="font-bold text-gray-400 w-4">1</span>
                            <div
                                class="w-8 h-8 bg-purple-200 rounded-full flex items-center justify-center text-xs font-bold text-purple-700">
                                JD</div>
                            <span class="text-sm font-medium">John Doe's Tech</span>
                        </div>
                        <span class="text-green-500 text-sm font-bold">+15%</span>
                    </div>
                    <div class="flex items-center justify-between p-2 bg-gray-50 rounded-lg">
                        <div class="flex items-center gap-3">
                            <span class="font-bold text-gray-400 w-4">2</span>
                            <div
                                class="w-8 h-8 bg-blue-200 rounded-full flex items-center justify-center text-xs font-bold text-blue-700">
                                SM</div>
                            <span class="text-sm font-medium">Sarah's Travel</span>
                        </div>
                        <span class="text-green-500 text-sm font-bold">+12%</span>
                    </div>
                    <div class="flex items-center justify-between p-2 bg-gray-50 rounded-lg">
                        <div class="flex items-center gap-3">
                            <span class="font-bold text-gray-400 w-4">3</span>
                            <div
                                class="w-8 h-8 bg-pink-200 rounded-full flex items-center justify-center text-xs font-bold text-pink-700">
                                FB</div>
                            <span class="text-sm font-medium">Foodie Blog</span>
                        </div>
                        <span class="text-green-500 text-sm font-bold">+8%</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Confetti Script -->
        <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
        <script>
            // Trigger confetti on page load
            window.onload = function () {
                confetti({
                    particleCount: 150,
                    spread: 70,
                    origin: { y: 0.6 },
                    colors: ['#a855f7', '#ec4899', '#f59e0b']
                });
            };

            // Share on X (Twitter)
            function shareOnX() {
                const url = encodeURIComponent(window.location.href);
                const text = encodeURIComponent('Check out my blog analysis from Boosty!');
                window.open(`https://twitter.com/intent/tweet?text=${text}&url=${url}`, '_blank');
            }

            // Share on LinkedIn
            function shareOnLinkedIn() {
                const url = encodeURIComponent(window.location.href);
                window.open(`https://www.linkedin.com/sharing/share-offsite/?url=${url}`, '_blank');
            }

            // Email Report
            function emailReport() {
                const subject = encodeURIComponent('Blog Analysis Report - Boosty');
                const body = encodeURIComponent(`Check out my blog analysis report: ${window.location.href}`);
                window.location.href = `mailto:?subject=${subject}&body=${body}`;
            }

            // Toggle dropdown visibility
            function toggleDropdown(id) {
                const dropdown = document.getElementById(id);
                dropdown.classList.toggle('hidden');
            }

            // Close dropdowns when clicking outside
            document.addEventListener('click', function (event) {
                const accountDropdown = document.getElementById('account-dropdown');
                const shareDropdown = document.getElementById('share-dropdown');
                const button = event.target.closest('button[onclick*="toggleDropdown"]');

                if (!button) {
                    if (accountDropdown && !accountDropdown.contains(event.target)) {
                        accountDropdown.classList.add('hidden');
                    }
                    if (shareDropdown && !shareDropdown.contains(event.target)) {
                        shareDropdown.classList.add('hidden');
                    }
                }
            });

            // Logout function
            function logout() {
                if (confirm('Are you sure you want to log out?')) {
                    // Clear session by redirecting to a logout endpoint
                    window.location.href = '/logout/';
                }
            }
        </script>

        <!-- Detail Cards Grid -->
        <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
            <!-- Content Quality -->
            <div class="bg-white rounded-xl p-6 shadow-sm border border-gray-100">
                <div class="flex items-center gap-2 mb-2 text-purple-600">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24"
                        stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
                    </svg>
                    <h3 class="font-bold text-gray-900">Content Quality</h3>
                </div>
                <div class="text-2xl font-bold text-yellow-500 mb-6">{{ data.categories.content.score }}</div>

                <div class="space-y-4">
                    {% for metric in data.categories.content.metrics %}
                    <div>
                        <div class="flex justify-between text-xs font-medium mb-1">
                            <span>{{ metric.name }}</span>
                            <span>{{ metric.value }}</span>
                        </div>
                        <div class="w-full bg-gray-100 rounded-full h-2">
                            <div class="bg-purple-400 h-2 rounded-full" style="width: {{ metric.value }}%"></div>
                        </div>
                    </div>
                    {% endfor %}
                </div>
            </div>

            <!-- Discoverability (formerly SEO) -->
            <div class="bg-white rounded-xl p-6 shadow-sm border border-gray-100">
                <div class="flex items-center gap-2 mb-2 text-blue-500">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24"
                        stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6" />
                    </svg>
                    <h3 class="font-bold text-gray-900">Discoverability</h3>
                </div>
                <div class="text-2xl font-bold text-red-400 mb-6">{{ data.categories.discoverability.score }}</div>

                <div class="space-y-4">
                    {% for metric in data.categories.discoverability.metrics %}
                    <div>
                        <div class="flex justify-between text-xs font-medium mb-1">
                            <span>{{ metric.name }}</span>
                            <span>{{ metric.value }}</span>
                        </div>
                        <div class="w-full bg-gray-100 rounded-full h-2">
                            <div class="bg-blue-300 h-2 rounded-full" style="width: {{ metric.value }}%"></div>
                        </div>
                    </div>
                    {% endfor %}
                </div>
            </div>

            <!-- Visual Design -->
            <div class="bg-white rounded-xl p-6 shadow-sm border border-gray-100">
                <div class="flex items-center gap-2 mb-2 text-pink-500">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24"
                        stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z" />
                    </svg>
                    <h3 class="font-bold text-gray-900">Visual Design</h3>
                </div>
                <div class="text-2xl font-bold text-yellow-500 mb-6">{{ data.categories.visual.score }}</div>

                <div class="space-y-4">
                    {% for metric in data.categories.visual.metrics %}
                    <div>
                        <div class="flex justify-between text-xs font-medium mb-1">
                            <span>{{ metric.name }}</span>
                            <span>{{ metric.value }}</span>
                        </div>
                        <div class="w-full bg-gray-100 rounded-full h-2">
                            <div class="bg-purple-400 h-2 rounded-full" style="width: {{ metric.value }}%"></div>
                        </div>
                    </div>
                    {% endfor %}
                </div>
            </div>

            <!-- User Experience (UX) -->
            <div class="bg-white rounded-xl p-6 shadow-sm border border-gray-100 relative overflow-hidden">
                {% if not is_premium %}
                <div
                    class="absolute inset-0 bg-white/90 backdrop-blur-md rounded-xl flex items-center justify-center z-10">
                    <a href="/register/"
                        class="bg-gradient-to-r from-purple-600 to-pink-600 text-white px-6 py-2 rounded-md text-sm font-medium hover:opacity-90 transition-opacity shadow-lg">
                        Unlock Full Report
                    </a>
                </div>
                {% endif %}

                <div class="flex items-center gap-2 mb-2 text-indigo-500">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24"
                        stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M12 18h.01M8 21h8a2 2 0 002-2V5a2 2 0 00-2-2H8a2 2 0 00-2 2v14a2 2 0 002 2z" />
                    </svg>
                    <h3 class="font-bold text-gray-900">User Experience</h3>
                </div>
                <div class="text-2xl font-bold text-indigo-400 mb-6">{{ data.categories.ux.score }}</div>

                <div class="space-y-4">
                    {% for metric in data.categories.ux.metrics %}
                    <div>
                        <div class="flex justify-between text-xs font-medium mb-1">
                            <span>{{ metric.name }}</span>
                            <span>{{ metric.value }}</span>
                        </div>
                        <div class="w-full bg-gray-100 rounded-full h-2">
                            <div class="bg-indigo-300 h-2 rounded-full" style="width: {{ metric.value }}%"></div>
                        </div>
                    </div>
                    {% endfor %}
                </div>
            </div>

            <!-- Engagement -->
            <div class="bg-white rounded-xl p-6 shadow-sm border border-gray-100 relative overflow-hidden">
                {% if not is_premium %}
                <div
                    class="absolute inset-0 bg-white/90 backdrop-blur-md rounded-xl flex items-center justify-center z-10">
                    <a href="/register/"
                        class="bg-gradient-to-r from-purple-600 to-pink-600 text-white px-6 py-2 rounded-md text-sm font-medium hover:opacity-90 transition-opacity shadow-lg">
                        Unlock Full Report
                    </a>
                </div>
                {% endif %}

                <div class="flex items-center gap-2 mb-2 text-orange-500">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24"
                        stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M17 8h2a2 2 0 012 2v6a2 2 0 01-2 2h-2v4l-4-4H9a1.994 1.994 0 01-1.414-.586m0 0L11 14h4a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2v4l.586-.586z" />
                    </svg>
                    <h3 class="font-bold text-gray-900">Engagement</h3>
                </div>
                <div class="text-2xl font-bold text-orange-400 mb-6">{{ data.categories.engagement.score }}</div>

                <div class="space-y-4">
                    {% for metric in data.categories.engagement.metrics %}
                    <div>
                        <div class="flex justify-between text-xs font-medium mb-1">
                            <span>{{ metric.name }}</span>
                            <span>{{ metric.value }}</span>
                        </div>
                        <div class="w-full bg-gray-100 rounded-full h-2">
                            <div class="bg-orange-300 h-2 rounded-full" style="width: {{ metric.value }}%"></div>
                        </div>
                    </div>
                    {% endfor %}
                </div>
            </div>

            <!-- Topic Fit -->
            <div class="bg-white rounded-xl p-6 shadow-sm border border-gray-100 relative overflow-hidden">
                {% if not is_premium %}
                <div
                    class="absolute inset-0 bg-white/90 backdrop-blur-md rounded-xl flex items-center justify-center z-10">
                    <a href="/register/"
                        class="bg-gradient-to-r from-purple-600 to-pink-600 text-white px-6 py-2 rounded-md text-sm font-medium hover:opacity-90 transition-opacity shadow-lg">
                        Unlock Full Report
                    </a>
                </div>
                {% endif %}

                <div class="flex items-center gap-2 mb-2 text-teal-500">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24"
                        stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7" />
                    </svg>
                    <h3 class="font-bold text-gray-900">Topic Fit</h3>
                </div>
                <div class="text-2xl font-bold text-teal-400 mb-6">{{ data.categories.topic_fit.score }}</div>

                <div class="space-y-4">
                    {% for metric in data.categories.topic_fit.metrics %}
                    <div>
                        <div class="flex justify-between text-xs font-medium mb-1">
                            <span>{{ metric.name }}</span>
                            <span>{{ metric.value }}</span>
                        </div>
                        <div class="w-full bg-gray-100 rounded-full h-2">
                            <div class="bg-teal-300 h-2 rounded-full" style="width: {{ metric.value }}%"></div>
                        </div>
                    </div>
                    {% endfor %}
                </div>
            </div>
        </div>

        <!-- Recommendations -->
        <div class="space-y-4 mb-8">
            <div>
                <h2 class="text-2xl font-bold text-gray-900">Recommendations</h2>
                <p class="text-sm text-gray-500">Actionable insights to improve your blog</p>
            </div>

            <div class="space-y-4">
                {% for rec in data.recommendations %}
                {% if forloop.counter <= 3 or is_premium %} <div class="relative">
                    <div class="bg-white p-6 rounded-xl border border-gray-200 shadow-sm">
                        <div class="space-y-4">
                            <div class="flex items-start gap-3">
                                <span class="mt-1 px-2 py-0.5 rounded text-xs font-bold text-white uppercase
                                    {% if rec.priority == 'HIGH' %}bg-red-500{% else %}bg-gray-500{% endif %}">
                                    {{ rec.priority }}
                                </span>
                                <div class="flex-1">
                                    <h3 class="font-semibold mb-2 text-gray-900">{{ rec.title }}</h3>
                                    <p class="text-sm text-gray-500 mb-4">{{ rec.desc }}</p>

                                    <!-- Before Section -->
                                    <div id="before-{{ forloop.counter }}" class="space-y-2">
                                        <div
                                            class="bg-gray-50 p-4 rounded-lg text-sm text-gray-700 border border-gray-100">
                                            {{ rec.desc }}
                                        </div>
                                        <button
                                            onclick="toggleFix('fix-{{ forloop.counter }}', 'before-{{ forloop.counter }}')"
                                            class="w-full bg-gradient-to-r from-purple-600 to-pink-600 text-white py-2 rounded-md text-sm font-medium hover:opacity-90 transition-opacity">
                                            Fix this section ‚Üí Generate revised content
                                        </button>
                                    </div>

                                    <!-- After Section (Hidden) -->
                                    <div id="fix-{{ forloop.counter }}" class="hidden">
                                        <div
                                            class="bg-green-50 p-4 rounded-lg border border-green-200 text-sm text-gray-800">
                                            {{ rec.ai_fix }}
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
            </div>
            {% else %}
            <!-- Blurred Recommendation (Premium Gate) -->
            <div class="relative">
                <div class="bg-white p-6 rounded-xl border border-gray-200 shadow-sm opacity-40 blur-md select-none">
                    <div class="space-y-4">
                        <div class="flex items-start gap-3">
                            <span class="mt-1 px-2 py-0.5 rounded text-xs font-bold text-white uppercase bg-gray-400">
                                {{ rec.priority }}
                            </span>
                            <div class="flex-1">
                                <h3 class="font-semibold mb-2 text-gray-900">{{ rec.title }}</h3>
                                <p class="text-sm text-gray-500 mb-4">{{ rec.desc }}</p>
                                <div class="bg-gray-50 p-4 rounded-lg text-sm text-gray-700 border border-gray-100">
                                    {{ rec.desc }}
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Premium Gate Overlay -->
                <div
                    class="absolute inset-0 bg-white/90 backdrop-blur-md rounded-xl flex items-center justify-center z-10">
                    <a href="/register/"
                        class="bg-gradient-to-r from-purple-600 to-pink-600 text-white px-6 py-2 rounded-md text-sm font-medium hover:opacity-90 transition-opacity shadow-lg">
                        Unlock Full Report
                    </a>
                </div>
            </div>
            {% endif %}
            {% endfor %}
        </div>
        </div>

        <script>
            function toggleFix(fixId, beforeId) {
                const fixElement = document.getElementById(fixId);
                const beforeElement = document.getElementById(beforeId);

                // Toggle visibility
                if (fixElement.classList.contains('hidden')) {
                    fixElement.classList.remove('hidden');
                    // Optional: Hide the button/before section if desired, but reference keeps button.
                    // Reference implementation keeps the button but maybe changes text? 
                    // Reference: !isExpanded && rec.before && (button). isExpanded && rec.after.
                    // So when expanded, the button and before text disappear in reference.
                    beforeElement.classList.add('hidden');
                } else {
                    fixElement.classList.add('hidden');
                    beforeElement.classList.remove('hidden');
                }
            }
        </script>

    </main>

    <footer class="text-center py-8 text-xs text-gray-400 border-t border-gray-100 mt-12">
        <p>By using this service, you agree to our Terms of Service and Privacy Policy</p>
        <p class="mt-2">¬© 2025 Boosty. All rights reserved.</p>
    </footer>

</body>

</html>